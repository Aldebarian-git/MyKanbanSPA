<!DOCTYPE html>
<html>

<head>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Title -->
  <title>My Kanban's Board</title>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='24px' height='24px' stroke-width='1.5' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg' color='%23000000'%3E%3Cpath d='M3 3.6V20.4C3 20.7314 3.26863 21 3.6 21H20.4C20.7314 21 21 20.7314 21 20.4V3.6C21 3.26863 20.7314 3 20.4 3H3.6C3.26863 3 3 3.26863 3 3.6Z' stroke='%23000000' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3Cpath d='M6 6L6 16' stroke='%23000000' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3Cpath d='M10 6V9' stroke='%23000000' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3Cpath d='M14 6V13' stroke='%23000000' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3Cpath d='M18 6V11' stroke='%23000000' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3C/svg%3E">

  <!-- Bulma -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- Custom CSS-->
  <link rel="stylesheet" href="./assets/css/style.css">

  <!-- Custom JS -->
  <!--
      On pense bien à ajouter le type="module". Si on avait pas été sur un liver server, mais bien un serveur démarré via npm,
      le fait de l'avoir dans le package.json aurait suffit. Mais là on utilise Live Serveur donc le package.json ne fait pas parti
      du flow de notre application, donc c'est comme si il n'était pas là.
    -->
  <script defer src="./assets/js/index.js" type="module"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>

</head>

<body class="container is-fluid">
  <header class="my-5">
    <h1 class="title has-text-centered is-1">My Kanban's Board</h1>
    <button class="button is-info is-outlined" id="add-list-button"><i class="fas fa-plus mr-2"></i>Ajouter une
      liste</button>
  </header>

  <main id="lists-container" >
    <!-- Rempli par le JS -->
  </main>

  <!-- Fenêtre de dialogue pour l'ajout de liste -->
  <!-- Ajouter l'attribut 'open' ou appeler la méthode 'showModal()' pour voir le contenu -->
  <dialog id="add-list-modal">
    <div class="modal is-active">
      <div class="modal-background close"></div>
      <div class="modal-card">
        <form>
          <div class="modal-card-head">
            <p class="modal-card-title">Ajouter une liste</p>
            <button class="delete close" type="button" aria-label="close"></button>
          </div>

          <div class="modal-card-body">
            <label for="add-list-title" class="label">Titre</label>
            <input id="add-list-title" class="input" type="text" name="title" placeholder="Titre de la liste">
          </div>

          <div class="modal-card-foot">
            <div class="buttons">
              <button class="button is-success">Ajouter</button>
              <button class="button close" type="button">Annuler</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </dialog>

  <!-- Fenêtre de dialogue pour editer une liste -->
  <!-- Ajouter l'attribut 'open' ou appeler la méthode 'showModal()' pour voir le contenu -->
  <dialog id="edit-list-modal">
    <div class="modal is-active">
      <div class="modal-background close"></div>
      <div class="modal-card">
        <form>
          <div class="modal-card-head">
            <p class="modal-card-title">Changer le titre de la liste</p>
            <button class="delete close" type="button" aria-label="close"></button>
          </div>

          <div class="modal-card-body">
            <label for="edit-list-title" class="label">Nouveau titre</label>
            <input id="edit-list-title" class="input" type="text" name="title" placeholder="Titre modifié">
          </div>

          <div class="modal-card-foot">
            <div class="buttons">
              <button class="button is-success">Modifier</button>
              <button class="button close" type="button">Annuler</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </dialog>

  <dialog id="delete-list-modal">
    <div class="modal is-active">
      <div class="modal-background close"></div>
      <div class="modal-card">
        <form>
          <div class="modal-card-head">
            <p class="modal-card-title">Confirmer la suppression</p>
            <button class="delete close" type="button" aria-label="close"></button>
          </div>

          <div class="modal-card-body">
            <p class="has-text-weight-bold has-text-white">
              Êtes-vous sûr de vouloir supprimer cette liste et tous les éléments qu'elle contient ?
            </p>
            <p class="has-text-weight-bold has-text-danger has-text-centered">
              Cette action est irréversible !
            </p>
          </div>
          <div class="modal-card-foot">
            <div class="buttons">
              <button class="button is-danger" type="submit">Supprimer</button>
              <button class="button close" type="button">Annuler</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </dialog>

  <dialog id="delete-card-modal">
    <div class="modal is-active">
      <div class="modal-background close"></div>
      <div class="modal-card">
        <form>
          <div class="modal-card-head">
              <p class="modal-card-title">Confirmer la suppression</p>
            <button class="delete close" type="button" aria-label="close"></button>
          </div>

          <div class="modal-card-body">
            <p class="has-text-weight-bold has-text-white">
              Êtes-vous sûr de vouloir supprimer cette carte ?
            </p>            
          </div>
          <div class="modal-card-foot"> 
            <div class="buttons">
              <button class="button is-danger" type="submit">Supprimer</button>
              <button class="button close" type="button">Annuler</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </dialog>

  <!-- Fenêtre de dialogue pour ajouter une carte -->
  <dialog id="add-card-modal">
    <div class="modal is-active">
      <div class="modal-background close"></div>
      <div class="modal-card">
        <form id="add-card-form">
          <div class="modal-card-head">
            <p class="modal-card-title">Ajouter une carte</p>
            <button class="delete close" type="button" aria-label="close"></button>
          </div>

          <div class="modal-card-body">
            <label for="add-card-content" class="label">Contenu</label>
            <input id="add-card-content" class="input" type="text" name="content" placeholder="Contenu de la carte">
            <input type="hidden" name="list_id" id="card-list-id">
          </div>

          <div class="modal-card-foot">
            <div class="buttons">
              <button class="button is-success">Ajouter</button>
              <button class="button close" type="button">Annuler</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </dialog>

  <dialog id="edit-card-modal">
    <div class="modal is-active">
      <div class="modal-background close"></div>
      <div class="modal-card">
        <form>
          <div class="modal-card-head">
            <p class="modal-card-title">Changer le contenu de la carte</p>
            <button class="delete close" type="button" aria-label="close"></button>
          </div>

          <div class="modal-card-body">
            <label for="edit-card-content" class="label">Nouveau contenu</label>
            <input id="edit-card-content" class="input" type="text" name="content" placeholder="Contenu modifié">
          </div>

          <div class="modal-card-foot">
            <div class="buttons">
              <button class="button is-success">Modifier</button>
              <button class="button close" type="button">Annuler</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </dialog>

  <footer class="footer has-background-info-dark has-text-white mt-5 is-fullwidth">
    <div class="content has-text-centered">
      <p>
        <strong>My Kanban's Board</strong> - Un outil de gestion de projet inspiré de Kanban.
      </p>
      <p>Developed by Flavien GUILLON</p>
      <p>
        <a href="https://github.com/aldebarian-git" class="has-text-white">
          <span class="icon">
            <i class="fab fa-github"></i>
          </span>
          GitHub
        </a> |
        <a href="https://aldebarian-git.github.io/Portefolio/" class="has-text-white">
          <span class="icon">
            <i class="fas fa-briefcase"></i>
          </span>
          Portfolio
        </a>
      </p>
      <p>&copy; 2025 My Kanban's Board. Tous droits réservés.</p>
    </div>
  </footer>
  
  

</body>


<!-- Template pour une liste -->
<template id="list-template">
  <section class="message is-info" data-type="list">
    <div class="message-header">      
        <i class="fas fa-arrows-alt drag-button"></i>        
        <div slot="list-title">TITRE_DE_LA_LISTE</div>      
      <div class="toolsButton">
        <span class="icon is-clickable"><i class="fas fa-pencil-alt edit-list-button"></i></span>
        <span class="icon is-clickable"><i class="fas fa-plus add-card-button"></i></span>
        <span class="icon is-clickable"><i class="fas fa-trash delete-list-button"></i></span>

      </div>
    </div>

    <div class="message-body">
      <!-- Cards go here -->
    </div>
  </section>
</template>

<!-- Template pour une carte -->
<template id="card-template">
  <article class="card" data-type="card">
    <div class="card-header">
      <div class="card-header-title-container">
        <i class="fas fa-arrows-alt drag-button"></i>
        <div class="card-header-title has-text-weight-medium">CONTENU_DE_LA_CARTE</div>
      </div>
      <div class="card-header-icon">
        <span class="icon has-text-success edit-card-button"><i class="fas fa-pencil-alt"></i></span>
        <span class="icon has-text-danger ml-2 delete-card-button"><i class="fas fa-trash-alt"></i></span>
      </div>
    </div>
  </article>
</template>

</html>